<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Nosso EspaÃ§o</title>

  <link rel="stylesheet" href="style.css" />
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#667eea" />
</head>

<body>
  <!-- LOGIN -->
  <div id="loginBox">
    <h2>Entrar</h2>
    <input type="email" id="email" placeholder="Email" autocomplete="email" />
    <input type="password" id="senha" placeholder="Senha" autocomplete="current-password" />
    <button onclick="login()">Entrar</button>
    <p id="statusMsg" style="margin-top:12px; font-size:14px; opacity:.85;"></p>
  </div>

  <!-- APP -->
  <div id="app" style="display:none;">

    <!-- TOPBAR GLOBAL -->
    <div class="topBar">
      <h1 id="tituloTopBar">Nosso EspaÃ§o</h1>

      <div class="topBarAcoes">
        <button class="btnSecundario" onclick="irPara('home')">ğŸ  Home</button>
        <button class="btnSecundario" onclick="logout()">Sair</button>
      </div>
    </div>

    <!-- =====================
         TELA HOME (MENU)
    ====================== -->
    <div id="telaHome" class="tela">
      <section class="cardHero">
        <h2>Bem-vindos ao nosso cantinho ğŸ’œ</h2>
        <p style="margin:0; opacity:.85;">
          Seu espaÃ§o exclusivo de vocÃªs dois: finanÃ§as, jogos e cinema juntos.
        </p>
      </section>

      <section>
        <h2>Escolha uma Ã¡rea</h2>

        <div class="gridMenu">
          <button class="btnMenu" onclick="irPara('financeiro')">
            <div class="btnMenuIcon">ğŸ’°</div>
            <div class="btnMenuTexto">
              <strong>Nosso Controle Financeiro</strong>
              <span>Entradas, saÃ­das e vencimentos</span>
            </div>
          </button>

          <button class="btnMenu" onclick="irPara('jogos')">
            <div class="btnMenuIcon">ğŸ®</div>
            <div class="btnMenuTexto">
              <strong>Jogos</strong>
              <span>Jogar juntos em tempo real</span>
            </div>
          </button>

          <button class="btnMenu" onclick="irPara('cinema')">
            <div class="btnMenuIcon">ğŸ¬</div>
            <div class="btnMenuTexto">
              <strong>Cinema</strong>
              <span>Assistir juntos com sala</span>
            </div>
          </button>
        </div>
      </section>
    </div>

    <!-- =====================
         TELA FINANCEIRO
    ====================== -->
    <div id="telaFinanceiro" class="tela" style="display:none;">

      <section class="cardVoltar">
        <button class="btnVoltar" onclick="irPara('home')">â¬…ï¸ Voltar</button>
      </section>

      <!-- MÃŠS -->
      <section>
        <h2>ğŸ—“ï¸ MÃªs</h2>
        <input id="mesRef" type="month" />
      </section>

      <!-- RESUMO -->
      <section>
        <h2>Resumo do MÃªs</h2>

        <p>Total de Entradas: R$ <span id="totalEntradas">0.00</span></p>
        <p>Total de SaÃ­das: R$ <span id="totalSaidas">0.00</span></p>
        <p><strong>Saldo Final: R$ <span id="saldoFinal">0.00</span></strong></p>

        <div class="acoesResumo">
          <button onclick="ativarNotificacoes()">Ativar NotificaÃ§Ãµes</button>
          <button onclick="testarNotificacao()">Testar NotificaÃ§Ã£o</button>
        </div>
      </section>

      <hr />

      <!-- ENTRADAS -->
      <section>
        <h2>Entradas</h2>
        <button onclick="adicionarEntrada()">Adicionar Entrada</button>
        <ul id="listaEntradas"></ul>
      </section>

      <hr />

      <!-- VENCIMENTOS -->
      <section>
        <h2>ğŸ“… Vencimentos</h2>
        <button onclick="adicionarVencimento()">Adicionar Vencimento</button>
        <ul id="listaVencimentos"></ul>
      </section>

      <!-- SAÃDAS -->
      <section>
        <h2>SaÃ­das</h2>
        <button onclick="adicionarSaida()">Adicionar SaÃ­da</button>
        <ul id="listaSaidas"></ul>
      </section>
    </div>

    <!-- =====================
         TELA JOGOS
    ====================== -->
    <div id="telaJogos" class="tela" style="display:none;">
      <section class="cardHero">
        <h2>ğŸ® Jogos</h2>
        <p style="margin:0; opacity:.85;">Joguem juntos em tempo real ğŸ’œ</p>
      </section>

      <section>
        <h2>âŒâ­• Jogo da Velha (tempo real)</h2>

        <div class="tttSala">
          <input id="tttRoomId" type="text" placeholder="CÃ³digo da sala (ex: A1B2C3)" />
          <div class="tttBotoes">
            <button onclick="tttCriarSala()">Criar sala</button>
            <button onclick="tttEntrarSala()">Entrar na sala</button>
            <button class="btnSecundario" onclick="tttSairSala()">Sair</button>
          </div>
          <p id="tttStatus" style="margin:10px 0 0; opacity:.85;"></p>
        </div>

        <div id="tttAreaJogo" style="display:none; margin-top:14px;">
          <div class="tttInfos">
            <span id="tttMeuSimbolo" class="tttBadge">VocÃª: -</span>
            <span id="tttVez" class="tttBadge">Vez: -</span>
            <span id="tttResultado" class="tttBadge">Resultado: -</span>
          </div>

          <div class="tttTabuleiro" id="tttTabuleiro">
            <button class="tttCasa" onclick="tttClique(0)"></button>
            <button class="tttCasa" onclick="tttClique(1)"></button>
            <button class="tttCasa" onclick="tttClique(2)"></button>
            <button class="tttCasa" onclick="tttClique(3)"></button>
            <button class="tttCasa" onclick="tttClique(4)"></button>
            <button class="tttCasa" onclick="tttClique(5)"></button>
            <button class="tttCasa" onclick="tttClique(6)"></button>
            <button class="tttCasa" onclick="tttClique(7)"></button>
            <button class="tttCasa" onclick="tttClique(8)"></button>
          </div>

          <div class="tttAcoes">
            <button onclick="tttReiniciar()">Reiniciar partida</button>
            <button class="btnSecundario" onclick="irPara('home')">â¬…ï¸ Voltar pro Home</button>
          </div>
        </div>
      </section>
    </div>

    <!-- =====================
         TELA CINEMA
    ====================== -->
    <div id="telaCinema" class="tela" style="display:none;">
      <section>
        <h2>ğŸ¬ Cinema</h2>
        <p style="margin:0; opacity:.85;">
          Em breve: sala com sincronizaÃ§Ã£o e chat ğŸ’œ
        </p>
      </section>
    </div>

  </div>

  <!-- FIREBASE -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

  <!-- SCRIPT -->
  <script src="script.js"></script>
</body>
</html>
